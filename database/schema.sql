CREATE TABLE PRODUTO (
    ID_PRODUTO INTEGER PRIMARY KEY AUTOINCREMENT,
    NOME TEXT NOT NULL,
    DESCRICAO TEXT NOT NULL,
    IMAGEM TEXT,
    PRECO REAL NOT NULL,
    EH_VEGANO BOOLEAN NOT NULL,
    EH_SEM_GLUTEN BOOLEAN NOT NULL,
    PORCOES INTEGER NOT NULL,
    CATEGORIA INTEGER NOT NULL,

    FOREIGN KEY(CATEGORIA) REFERENCES CATEGORIA(ID_CATEGORIA)
);

CREATE TABLE CATEGORIA (
    ID_CATEGORIA INTEGER PRIMARY KEY AUTOINCREMENT,
    DESCRICAO TEXT NOT NULL
);

CREATE TABLE MESA (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    ID_MESA INTEGER NOT NULL,
    COMANDA INTEGER,
    ID_PEDIDO INTEGER,

    FOREIGN KEY(ID_PEDIDO) REFERENCES PEDIDO(ID)
);

CREATE TABLE PEDIDO (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    COMANDA INTEGER NOT NULL,
    ID_PRODUTO INTEGER NOT NULL
    DATA_PEDIDO DATETIME DEFAULT (datetime('now', '-3 hours')) NOT NULL

    FOREIGN KEY(COMANDA) REFERENCES MESA(COMANDA)
);
